<alfresco-config>

   <config>
       <actions>
           <action id="document_search_export_csv">
               <label-id>document_export_csv</label-id>
               <image>/images/icons/versioned_properties.gif</image>
               <action-listener>#{DocumentSearchResultsDialog.exportAsCsv}</action-listener>
	             <target>no_wait_workaround</target>
           </action>

           <action id="document_search_export_estonian_post">
               <evaluator>ee.webmedia.alfresco.document.web.evaluator.IsAdminOrDocManagerEvaluator</evaluator>
               <label-id>document_search_export_estonian_post</label-id>
               <image>/images/icons/versioned_properties.gif</image>
               <action-listener>#{DocumentSearchResultsDialog.exportEstonianPost}</action-listener>
               <target>no_wait_workaround</target>
           </action>

           <action-group id="document_search_actions">
               <action idref="document_search_export_csv"/>
               <action idref="document_search_export_estonian_post"/>
           </action-group>
       </actions>
      <dialogs>
         <dialog name="documentSearchDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/search/web/document-search-dialog.jsp" managed-bean="DocumentSearchDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_search" />

         <dialog name="documentSearchResultsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/web/document-list-dialog.jsp" managed-bean="DocumentSearchResultsDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_search" actions-config-id="document_search_actions"/>

         <dialog name="documentSearchExtendedResultsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/search/web/document-search-extended-results-dialog.jsp" managed-bean="DocumentSearchResultsDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_search" actions-config-id="document_search_actions"/>

         <dialog name="documentQuickSearchResultsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/web/document-list-dialog.jsp" managed-bean="DocumentQuickSearchResultsDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_quick_search" show-ok-button="false" />

         <dialog name="todayRegisteredDocumentsSearchResultsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/web/document-list-dialog.jsp" managed-bean="TodayRegisteredDocumentsSearchResultsDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_registeredToday" show-ok-button="false" />

         <dialog name="userWorkingDocumentsSearchResultsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/document/web/document-list-dialog.jsp" managed-bean="UserWorkingDocumentsSearchResultsDialog"
            icon="/images/icons/versioned_properties_large.gif" title-id="document_working_documents" show-ok-button="false" />
      </dialogs>
   </config>

   <config evaluator="node-type" condition="docsearch:filter" replace="true">
      <property-sheet>
         <show-property name="docsearch:store" display-label-id="document_search_stores" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getStores}" converter="ee.webmedia.alfresco.common.propertysheet.converter.StoreRefConverter" />
         <show-property name="docsearch:input" display-label-id="document_search_input" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:regDateTimeBegin" display-label-id="document_regDateTime2" component-generator="InlinePropertyGroupGenerator" props="docsearch:regDateTimeBegin||styleClass=date,docsearch:regDateTimeEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:regNumber" display-label-id="document_regNumber2" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:shortRegNumber" display-label-id="document_shortRegNumber" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:documentType" display-label-id="document_docType" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchBean.getDocumentTypes}" converter="ee.webmedia.alfresco.common.propertysheet.converter.QNameConverter" />
         <show-property name="docsearch:function" display-label-id="function" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getFunctions}" converter="ee.webmedia.alfresco.common.propertysheet.converter.NodeRefConverter" valueChangeListener="#{DocumentSearchDialog.functionValueChanged}" />
         <show-property name="docsearch:series" display-label-id="series" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getSeries}" converter="ee.webmedia.alfresco.common.propertysheet.converter.NodeRefConverter" valueChangeListener="#{DocumentSearchDialog.seriesValueChanged}" />
         <show-property name="docsearch:volume" display-label-id="volume" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getVolumes}" converter="ee.webmedia.alfresco.common.propertysheet.converter.NodeRefConverter" valueChangeListener="#{DocumentSearchDialog.volumeValueChanged}" />
         <show-property name="docsearch:case" display-label-id="document_search_case" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getCases}" converter="ee.webmedia.alfresco.common.propertysheet.converter.NodeRefConverter" />
         <show-property name="docsearch:docStatus" display-label-id="document_docStatus" component-generator="ClassificatorSelectorGenerator" classificatorName="documentStatus" />
         <show-property name="docsearch:senderName" display-label-id="document_sender"
            pickerCallback="#{AddressbookDialog.searchContacts}" setterCallback="#{AddressbookDialog.getContactData}" dialogTitleId="contacts_search_title" showHeaders="false"
            component-generator="MultiValueEditorGenerator" addLabelId="document_search_add_sender" propsGeneration="docsearch:senderName¤TextAreaGenerator¤styleClass=expand19-200" />
         <show-property name="docsearch:recipientName" display-label-id="document_allRecipients"
            pickerCallback="#{AddressbookDialog.searchContacts}" setterCallback="#{AddressbookDialog.getContactData}" dialogTitleId="contacts_search_title" showHeaders="false"
            component-generator="MultiValueEditorGenerator" addLabelId="document_add_recipient" propsGeneration="docsearch:recipientName¤TextAreaGenerator¤styleClass=expand19-200" />
         <show-property name="docsearch:docName" display-label-id="document_docName" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:senderRegNumber" display-label-id="document_senderRegNumber" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:senderRegDateBegin" display-label-id="document_senderRegDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:senderRegDateBegin||styleClass=date,docsearch:senderRegDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:dueDateBegin" display-label-id="document_dueDate2" component-generator="InlinePropertyGroupGenerator" props="docsearch:dueDateBegin||styleClass=date,docsearch:dueDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:complienceDateBegin" display-label-id="document_complienceDate2" component-generator="InlinePropertyGroupGenerator" props="docsearch:complienceDateBegin||styleClass=date,docsearch:complienceDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:accessRestriction" display-label-id="document_accessRestriction" component-generator="ClassificatorSelectorGenerator" classificatorName="accessRestriction" />
         <show-property name="docsearch:accessRestrictionReason" display-label-id="document_accessRestrictionReason" component-generator="ClassificatorSelectorAndTextGenerator" classificatorName="accessRestrictionReason" styleClass="expand19-200" />
         <show-property name="docsearch:accessRestrictionBeginDateBegin" display-label-id="document_accessRestrictionBeginDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:accessRestrictionBeginDateBegin||styleClass=date,docsearch:accessRestrictionBeginDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:accessRestrictionEndDateBegin" display-label-id="document_accessRestrictionEndDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:accessRestrictionEndDateBegin||styleClass=date,docsearch:accessRestrictionEndDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:accessRestrictionEndDesc" display-label-id="document_accessRestrictionEndDesc" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:ownerName" display-label-id="document_owner2" component-generator="SearchGenerator" pickerCallback="#{UserListDialog.searchUsers}" setterCallback="#{DocumentSearchDialog.setOwner}" dialogTitleId="users_search_title" ajaxParentLevel="1" />
         <show-property name="docsearch:ownerOrgStructUnit" display-label-id="document_ownerOrgStructUnit" component-generator="TextAreaGenerator" styleClass="expand19-200 secondary" />
         <show-property name="docsearch:ownerJobTitle" display-label-id="document_ownerJobTitle" component-generator="TextAreaGenerator" styleClass="expand19-200 secondary" />
         <show-property name="docsearch:signerName" display-label-id="document_signer" component-generator="SearchGenerator" pickerCallback="#{UserListDialog.searchUsers}" setterCallback="#{DocumentSearchDialog.setSigner}" dialogTitleId="users_search_title" ajaxParentLevel="1" />
         <show-property name="docsearch:signerJobTitle" display-label-id="document_signerJobTitle" component-generator="TextAreaGenerator" styleClass="expand19-200 secondary" />
         <show-property name="docsearch:keywords" display-label-id="document_keywords" component-generator="ClassificatorSelectorAndTextGenerator" classificatorName="keywords" styleClass="expand19-200" />
         <show-property name="docsearch:storageType" display-label-id="document_storageType" component-generator="ClassificatorSelectorGenerator" classificatorName="storageType" />
         <show-property name="docsearch:sendMode" display-label-id="document_send_mode" component-generator="ClassificatorSelectorGenerator" classificatorName="sendModeSearch" />
         <show-property name="docsearch:costManager" display-label-id="document_costManager" component-generator="ClassificatorSelectorGenerator" classificatorName="costManager" />
         <show-property name="docsearch:applicantName" display-label-id="document_errand_applicant" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:errandBeginDateBegin" display-label-id="document_errand_beginDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:errandBeginDateBegin||styleClass=date,docsearch:errandBeginDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:errandEndDateBegin" display-label-id="document_errand_endDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:errandEndDateBegin||styleClass=date,docsearch:errandEndDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:errandCountry" display-label-id="document_errand_country" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:errandCounty" display-label-id="document_errand_county" component-generator="ClassificatorSelectorGenerator" classificatorName="counties" />
         <show-property name="docsearch:errandCity" display-label-id="document_errand_city" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:responsibleName" display-label-id="document_responsibleName" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:coResponsibles" display-label-id="document_coResponsibles" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:contactPerson" display-label-id="document_contactPerson" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:procurementType" display-label-id="document_procurementType" component-generator="ClassificatorSelectorGenerator" classificatorName="procurementType" />
         <show-property name="docsearch:invoiceNumber" display-label-id="document_invoiceNumber" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:invoiceDateBegin" display-label-id="document_invoiceDate" component-generator="InlinePropertyGroupGenerator" props="docsearch:invoiceDateBegin||styleClass=date,docsearch:invoiceDateEnd||styleClass=date" textId="document_search_from_to" />
         <show-property name="docsearch:sellerPartyName" display-label-id="document_sellerPartyName" component-generator="SearchGenerator" pickerCallback="#{AddressbookDialog.searchContacts}" setterCallback="#{DocumentSearchDialog.setSellerPartyName}" dialogTitleId="contacts_search_title" />
         <show-property name="docsearch:sellerPartyRegNumber" display-label-id="document_sellerPartyRegNumber" component-generator="TextAreaGenerator" styleClass="expand19-200" />
         <show-property name="docsearch:totalSumLowest" display-label-id="document_totalSum" optionsSeparator="¤" component-generator="InlinePropertyGroupGenerator" props="docsearch:totalSumLowest¤¤jsfConverter=ee.webmedia.alfresco.common.propertysheet.converter.DoubleCurrencyConverter¤styleClass=medium,docsearch:totalSumHighest¤¤jsfConverter=ee.webmedia.alfresco.common.propertysheet.converter.DoubleCurrencyConverter¤styleClass=medium" textId="document_search_from_to" />
         <show-property name="docsearch:fund" display-label-id="transaction_fund" component-generator="DimensionSelectorGenerator" dimensionName="invoiceFunds" styleClass="noOptionTitle" descriptionAsLabel="true" />
         <show-property name="docsearch:fundsCenter" display-label-id="transaction_fundsCenter" component-generator="DimensionSelectorGenerator" dimensionName="invoiceFundsCenters" styleClass="noOptionTitle" descriptionAsLabel="true" />
         <show-property name="docsearch:eaCommitmentItem" display-label-id="transaction_eaCommitmentItem" component-generator="DimensionSelectorGenerator" dimensionName="invoiceCommitmentItem" filter="eaPrefixInclude" styleClass="noOptionTitle" descriptionAsLabel="true" />
         <show-property name="docsearch:output" display-label-id="document_search_output" component-generator="GeneralSelectorGenerator" selectionItems="#{DocumentSearchDialog.getSearchOutput}" />
      </property-sheet>
   </config>

</alfresco-config>
