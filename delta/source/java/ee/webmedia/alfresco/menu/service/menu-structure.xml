<?xml version="1.0" encoding="UTF-8"?>

   <!--   item          link     	   menüüs olev link, mis wrapitakse li sisse -->
   <!--   browse        xpath          viitab alfresco ruumile ja käivitab browse vaate -->
   <!--   dropdown      paneeli id     viitab div'i id'le -->
<menu>

<!--
    NB! If you change menu item order, also update constants in MenuBean.java !
-->

   <!-- MINU TÖÖÜLESANDED JA DOKUMENDID -->
   <item title-id="menu_my_tasks_and_documents">
      <outcome>myalfresco</outcome>
      <subitems>
         <dropdown title-id="menu_my_tasks" expanded="true">
            <submenu-id>my-tasks-submenu</submenu-id>
            <subitems>
               <item id="assignmentTasks" title-id="menu_for_assignment">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupAssignmentTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}assignmentTask</processor>
               </item>
               <item id="informationTasks" title-id="menu_for_information">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupInformationTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}informationTask</processor>
               </item>
               <item id="opinionTasks" title-id="menu_for_opinion">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupOpinionTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}opinionTask</processor>
               </item>
               <item id="reviewTasks" title-id="menu_for_review">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupReviewTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}reviewTask</processor>
               </item>
               <item id="externalReviewTasks" title-id="menu_for_external_review">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupExternalReviewTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}externalReviewTask</processor>
               </item>               
               <item id="signatureTasks" title-id="menu_for_signature">
                  <outcome>dialog:taskListDialog</outcome>
                  <action-listener>#{MyTasksBean.setupSignatureTasks}</action-listener>
                  <processor>{http://alfresco.webmedia.ee/model/workflow/specific/1.0}signatureTask</processor>
               </item>
               <item id="userWorkingDocuments" title-id="menu_working_documents">
                  <outcome>dialog:userWorkingDocumentsSearchResultsDialog</outcome>
                  <action-listener>#{UserWorkingDocumentsSearchResultsDialog.setup}</action-listener>
               </item>
               <item id="forRegisteringList" title-id="menu_for_registering" document-manager="true">
                  <outcome>dialog:forRegisteringListDialog</outcome>
                   <action-listener>#{ForRegisteringListDialog.setup}</action-listener>
               </item>
               <dropdown title-id="menu_received_documents" document-manager="true" expanded="true">
                  <submenu-id>received-documents-submenu</submenu-id>
                  <subitems>
                     <item id="incomingEmails" title-id="menu_incoming_emails">
                        <outcome>dialog:incomingEmailListDialog</outcome>
                        <action-listener>#{IncomingEmailListDialog.setup}</action-listener>
                     </item>
                     <item id="incomingEInvoice" title-id="menu_received_invoices">
                        <outcome>dialog:incomingEInvoiceListDialog</outcome>
                        <action-listener>#{IncomingEInvoiceListDialog.setup}</action-listener>
                     </item>                     
                     <item id="emailAttachments" title-id="menu_email_attachments">
                        <outcome>dialog:attachmentListDialog</outcome>
                         <action-listener>#{AttachmentListDialog.init}</action-listener>
                     </item>
                     <item id="sentEmails" title-id="menu_sent_emails">
                        <outcome>dialog:sentEmailListDialog</outcome>
                        <action-listener>#{SentEmailListDialog.setup}</action-listener>
                     </item>
                     <item id="dvkCorrupt" title-id="menu_dvk_error_messages">
                        <outcome>dialog:dvkCorruptListDialog</outcome>
                        <action-listener>#{DvkCorruptListDialog.init}</action-listener>
                     </item>
                     <item id="scannedDocuments" title-id="menu_scanned_documents">
                        <outcome>dialog:scannedFoldersListDialog</outcome>
                         <action-listener>#{ScannedFoldersListDialog.init}</action-listener>
                     </item>
                     <item id="dvkDocuments" title-id="menu_dvk_documents">
                        <outcome>dialog:dvkDocumentListDialog</outcome>
                        <action-listener>#{DvkDocumentListDialog.setup}</action-listener>
                     </item>
                  </subitems>
               </dropdown>
               <item id="unsentDocument" title-id="menu_unsent_documents" document-manager="true">
                  <outcome>dialog:unsentDocumentListDialog</outcome>
                  <action-listener>#{UnsentDocumentListDialog.setup}</action-listener>
               </item>
               <item id="outboxDocument" title-id="menu_outbox_documents" document-manager="true">
                  <outcome>dialog:outboxDocumentListDialog</outcome>
                  <action-listener>#{OutboxDocumentListDialog.setup}</action-listener>
               </item>
            </subitems>
         </dropdown>
         <dropdown title-id="menu_search" expanded="true">
            <submenu-id>queries-submenu</submenu-id>
            <subitems>
               <item id="documentSearch" title-id="menu_documents">
                  <outcome>dialog:documentSearchDialog</outcome>
               </item>
               <item id="taskSearch" title-id="menu_tasks">
                  <outcome>dialog:taskSearchDialog</outcome>
               </item>
            </subitems>
         </dropdown>
         <dropdown title-id="menu_my_documents" browse="true">
            <xpath>/{http://alfresco.webmedia.ee/model/functions/1.0}documentList</xpath>
            <submenu-id>my-documents</submenu-id>
            <outcome>dialog:myDocsFunctionsListDialog</outcome>
            <action-listener>#{MenuBean.updateTree}</action-listener>
            <child-filter>myDocuments</child-filter>
         </dropdown>
      </subitems>
   </item>

   <!-- DOKUMENDIREGISTER -->
   <item title-id="menu_document_register">
      <outcome>dialog:todayRegisteredDocumentsSearchResultsDialog</outcome>
      <action-listener>#{TodayRegisteredDocumentsSearchResultsDialog.setup}</action-listener>
      <subitems>
         <dropdown title-id="menu_document_list" browse="true">
            <xpath>/{http://alfresco.webmedia.ee/model/functions/1.0}documentList</xpath>
            <submenu-id>document-register</submenu-id>
            <outcome>dialog:functionsListDialog</outcome>
            <action-listener>#{MenuBean.updateTree}</action-listener>
         </dropdown>
         <dropdown title-id="menu_archivals_list" browse="true">
             <xpath>/{http://alfresco.webmedia.ee/model/functions/1.0}archivals</xpath>
             <store>workspace://ArchivalsStore</store>
             <submenu-id>document-register</submenu-id>
             <outcome>dialog:archivedFunctionsListDialog</outcome>
             <action-listener>#{MenuBean.updateTree}</action-listener>
         </dropdown>
      </subitems>
   </item>

   <!-- KONTAKT -->
   <item title-id="menu_contact">
      <outcome>dialog:addressbookManage</outcome>
      <subitems>
         <item id="contactManagement" title-id="menu_contact_management">
            <outcome>dialog:addressbookManage</outcome>
         </item>
         <item id="contactGroupManagement" title-id="menu_contact_group_management">
            <outcome>dialog:addressbookManageContactGroups</outcome>
         </item>
      </subitems>
   </item>

   <!-- MINA -->
   <item title-id="menu_me">
      <outcome>dialog:userConsole</outcome>
      <action-listener>#{UserDetailsDialog.setupCurrentUser}</action-listener>
      <subitems>
         <item id="myProfile" title-id="menu_my_profile">
            <outcome>dialog:userConsole</outcome>
            <action-listener>#{UserDetailsDialog.setupCurrentUser}</action-listener>
         </item>
         <item id="myFavourites" title-id="menu_my_favourites">
            <outcome>dialog:favoritesDocumentListDialog</outcome>
         </item>
         <dropdown title-id="menu_settings" expanded="true">
            <submenu-id>settings-submenu</submenu-id>
            <subitems>
               <item id="notificationSettings" title-id="menu_notifications_to_email">
                  <outcome>dialog:notificationDialog</outcome>
               </item>
               <item id="substitutionSettings" title-id="menu_leave_configuration">
                  <outcome>dialog:substituteListDialog</outcome>
               </item>
            </subitems>
         </dropdown>
      </subitems>
   </item>

   <!-- ADMINISTRATOR -->
   <item title-id="menu_administrator" accountant="true">
      <outcome>dialog:userListDialog</outcome>
      <subitems>
         <item id="userManagement" title-id="menu_user_management" admin="true">
            <outcome>dialog:userListDialog</outcome>
         </item>
         <item id="userGroupManagement" title-id="menu_user_group_management" admin="true">
            <outcome>dialog:manageGroups</outcome>
            <action-listener>#{GroupsDialog.reset}</action-listener>
         </item>
         <item id="classificators" title-id="menu_classificators" admin="true">
            <outcome>dialog:classificatorListDialog</outcome>
         </item>
         <item id="dimensions" title-id="menu_dimensions" accountant="true">
            <outcome>dialog:dimensionListDialog</outcome>
         </item>         
         <item id="parameters" title-id="menu_parameters" admin="true">
            <outcome>dialog:parametersListDialog</outcome>
         </item>
         <item id="registers" title-id="menu_registers" admin="true">
            <outcome>dialog:registerListDialog</outcome>
         </item>
         <item id="compoundWorkflows" title-id="menu_compoundworkflows" admin="true">
            <outcome>dialog:compoundWorkflowDefinitionListDialog</outcome>
         </item>
         <item id="templates" title-id="menu_templates" admin="true">
            <outcome>dialog:documentTemplateListDialog</outcome>
         </item>
         <item id="documentTypeManagement" title-id="menu_document_types" admin="true">
            <outcome>dialog:documentTypeDialog</outcome>
         </item>
         <item id="organizationStructure" title-id="menu_organization_structure" admin="true">
            <outcome>dialog:orgstructureListDialog</outcome>
         </item>
         <item id="importantNotifications" title-id="menu_important_notifications" admin="true">
            <outcome>dialog:notificationListDialog</outcome>
         </item>
         <item id="systemInformation" title-id="menu_system_information" admin="true">
            <outcome>dialog:showSystemInfo</outcome>
         </item>
         <item title-id="menu_node_browser" admin="true">
            <outcome>dialog:showNodeBrowser</outcome>
         </item>
      </subitems>
   </item>

   <!-- ALUSTA UUT DOKUMENTI -->
   <dropdown id="documentTypes" title-id="menu_start_new_document" skinnable="true" temporary="true">
      <child-filter>createDocument</child-filter>
      <submenu-id>new-document-submenu</submenu-id>
      <subitems>
         <dropdown title-id="menu_instrument">
            <submenu-id>instrument-submenu</submenu-id>
            <subitems>
               <item>
                  <outcome>docsub:instrumentOfDeliveryAndReceipt</outcome>
               </item>
               <item>
                  <outcome>docsub:supervisionReport</outcome>
               </item>
            </subitems>
         </dropdown>
         <item>
            <outcome>docsub:instrumentOfDeliveryAndReceiptMv</outcome>
         </item>          
         <item>
            <outcome>docsub:report</outcome>
         </item>
         <item>
            <outcome>docsub:reportMv</outcome>
         </item>   
         <item>
            <outcome>docsub:invoice</outcome>
         </item>
         <item>
            <outcome>docsub:managementsOrder</outcome>
         </item>
         <dropdown title-id="menu_letter">
            <submenu-id>letter-submenu</submenu-id>
            <subitems>
               <item>
                  <outcome>docsub:incomingLetter</outcome>
               </item>
               <item>
                  <outcome>docsub:incomingLetterMv</outcome>
               </item>               
               <item>
                  <outcome>docsub:outgoingLetter</outcome>
               </item>
               <item>
                  <outcome>docsub:outgoingLetterMv</outcome>
               </item>
            </subitems>
         </dropdown>
         <item>
            <outcome>docsub:orderMv</outcome>
         </item>          
         <dropdown title-id="menu_order">
            <submenu-id>order-submenu</submenu-id>
            <subitems>
               <item>
                  <outcome>docsub:chancellorsOrder</outcome>
               </item>
               <item>
                  <outcome>docsub:ministersOrder</outcome>
               </item>
               <item>
                  <outcome>docsub:personelleOrderSim</outcome>
               </item>
               <item>
                  <outcome>docsub:personelleOrderSmit</outcome>
               </item>
               <item>
                  <outcome>docsub:regulation</outcome>
               </item>
            </subitems>
         </dropdown>
         <item>
            <outcome>docsub:contractSim</outcome>
         </item>
         <item>
            <outcome>docsub:contractSmit</outcome>
         </item>
         <item>
            <outcome>docsub:contractMv</outcome>
         </item> 
         <item>
            <outcome>docsub:licence</outcome>
         </item>
         <dropdown title-id="menu_internal_application">
            <submenu-id>internal-application-submenu</submenu-id>
            <subitems>
            <item>
               <outcome>docsub:personalVehicleUsageCompensationMv</outcome>
            </item>            
            <item>
               <outcome>docsub:trainingApplication</outcome>
            </item>
            <item>
               <outcome>docsub:leavingLetter</outcome>
            </item>
            <item>
               <outcome>docsub:internalApplication</outcome>
            </item>
            <item>
               <outcome>docsub:internalApplicationMv</outcome>
            </item>            
            <item>
               <outcome>docsub:vacationOrderSmit</outcome>
            </item>
            <item>
               <outcome>docsub:vacationApplication</outcome>
            </item>            
            <item>
               <outcome>docsub:vacationOrder</outcome>
            </item>
            <item>
               <outcome>docsub:tenderingApplication</outcome>
            </item>
            <item>
               <outcome>docsub:errandApplicationDomestic</outcome>
            </item>
            <item>
               <outcome>docsub:errandOrderAbroad</outcome>
            </item>
            <item>
               <outcome>docsub:errandOrderAbroadMv</outcome>
            </item>
            </subitems>
         </dropdown>
         <item>
            <outcome>docsub:memo</outcome>
         </item>
         <item>
            <outcome>docsub:otherDocumentMv</outcome>
         </item>         
         <item>
            <outcome>docsub:decree</outcome>
         </item>
         <item>
            <outcome>docsub:resolutionMv</outcome>
         </item>
         <item>
            <outcome>docsub:projectApplication</outcome>
         </item>
         <item>
            <outcome>docsub:minutes</outcome>
         </item>
         <item>
            <outcome>docsub:minutesMv</outcome>
         </item> 
      </subitems>
   </dropdown>

</menu>