<?xml version="1.0" encoding="UTF-8"?>
<alfresco-config>
   <config>
      <actions>

         <action id="series_add_new">
            <evaluator>ee.webmedia.alfresco.user.web.DocumentManagerEvaluator</evaluator>
            <label-id>series_add_new</label-id>
            <image>/images/icons/versioned_properties.gif</image>
            <action-listener>#{SeriesDetailsDialog.addNewSeries}</action-listener>
            <action>dialog:seriesDetailsDialog</action>
            <params>
               <param name="functionNodeRef">#{DialogManager.bean.function.nodeRef}</param>
            </params>
         </action>

         <action-group id="browse_actions_series">
            <action idref="series_add_new" />
         </action-group>

      </actions>
      <dialogs>
         <dialog name="seriesListDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/series/web/series-list-dialog.jsp" managed-bean="SeriesListDialog"
            icon="/images/icons/versioned_properties_large.gif" actions-config-id="browse_actions_series" title-id="series_list" description-id="series_list_info">
         </dialog>

         <dialog name="seriesDetailsDialog" page="/WEB-INF/classes/ee/webmedia/alfresco/series/web/series-details-dialgo.jsp" managed-bean="SeriesDetailsDialog"
            title-id="series_details" show-ok-button="true">
            <buttons>
               <button id="close-button" label-id="close" action="#{SeriesDetailsDialog.close}" disabled="#{SeriesDetailsDialog.closed}" />
            </buttons>
         </dialog>
      </dialogs>
   </config>

   <config evaluator="node-type" condition="ser:series">
      <property-sheet>
         <show-property name="ser:type" display-label-id="series_type" classificatorName="seriesType" component-generator="ClassificatorSelectorGenerator"
            readOnlyIf="ser:status=suletud" />
         <show-property name="ser:seriesIdentifier" display-label-id="series_seriesIdentifier" readOnlyIf="ser:status=suletud" />
         <show-property name="ser:title" display-label-id="series_title" readOnlyIf="ser:status=suletud" />
         <show-property name="ser:description" display-label-id="series_description" readOnlyIf="ser:status=suletud" styleClass="expand5-200" component-generator="TextAreaGenerator"/>
         <show-property name="ser:status" display-label-id="series_status" read-only="true" classificatorName="docListUnitStatus"
            component-generator="ClassificatorSelectorGenerator" />
         <show-property name="ser:order" display-label-id="series_order" converter="javax.faces.Integer" />
         <show-property name="ser:docType" display-label-id="series_docType" component-generator="SearchGenerator" pickerCallback="#{DocumentTypeDialog.searchUsedDocTypes}"
            converter="ee.webmedia.alfresco.document.type.web.DocumentTypeConverter" dialogTitleId="series_docType_popUpInfo" readOnlyIf="ser:status=suletud" />
         <show-property name="ser:register" display-label-id="series_register" readOnlyIf="ser:status=suletud" component-generator="GeneralSelectorGenerator"
            converter="javax.faces.Integer" selectionItems="#{RegisterListDialog.findActiveRegisters}" />
         <show-property name="doccom:accessRestriction" component-generator="ClassificatorSelectorGenerator" classificatorName="accessRestriction"
            readOnlyIf="ser:status=suletud" />
         <show-property name="doccom:accessRestrictionReason" mandatoryIf="accessRestriction" component-generator="ClassificatorSelectorAndTextGenerator"
            classificatorName="accessRestrictionReason" styleClass="expand5-200" layoutStyle="default(could also use sideBySide)" readOnlyIf="ser:status=suletud" />
         <show-property name="doccom:accessRestrictionBeginDate" mandatoryIf="accessRestriction" readOnlyIf="ser:status=suletud" />
         <show-property name="doccom:accessRestrictionEndDate" readOnlyIf="ser:status=suletud" />
         <show-property name="doccom:accessRestrictionEndDesc" readOnlyIf="ser:status=suletud" />
         <show-property name="ser:structUnit" display-label-id="series_structUnit" component-generator="SearchGenerator"
            pickerCallback="#{OrganizationStructureListDialog.searchOrgstructs}" converter="ee.webmedia.alfresco.orgstructure.web.OrganizationStructureConverter"
            dialogTitleId="series_structUnit_popUpInfo" />
         <show-property name="ser:retentionPeriod" display-label-id="series_retentionPeriod" converter="javax.faces.Integer" />
         <show-property name="ser:retentionDesc" display-label-id="series_retentionDesc" styleClass="expand5-200" component-generator="TextAreaGenerator" />
      </property-sheet>
   </config>
</alfresco-config>

