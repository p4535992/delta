<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>
 
<!--
   Configuration of in-transaction caches along with the shared (cross-transaction) caches.
   The in-transaction caches do not share the same configuration as the shared caches.
   This is because the shared caches can support replication (EHCache 1.2), while the 
   in-transaction caches must not use these features.
-->
<beans>
   
   <!-- ==================================================== -->
   <!-- EH Cache Manager to produce in-transaction EH Caches -->
   <!--     Do not override or cluster                       -->
   <!-- ==================================================== -->
   
   <bean name="transactionalEHCacheManager" class="org.alfresco.repo.cache.EhCacheManagerFactoryBean" >
      <property name="configLocation">
         <value>classpath:alfresco/ehcache-transactional.xml</value>
      </property>
   </bean>
   
   <!-- ============================================ -->
   <!-- EH Cache Manager to produce shared EH Caches -->
   <!-- ============================================ -->
   
   <bean name="internalEHCacheManager" class="org.alfresco.repo.cache.InternalEhCacheManagerFactoryBean" />
   
   
   <!-- ===================================== -->
   <!-- ID lookup for QName entities          -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for QName entities -->
   
   <bean name="qnameEntitySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.qnameEntityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for QName entities -->
   
   <bean name="qnameEntityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="qnameEntitySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.qnameEntityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>5000</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- ID lookup for Namespace entities          -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Namespace entities -->
   
   <bean name="namespaceEntitySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.namespaceEntityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Namespace entities -->
   
   <bean name="namespaceEntityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="namespaceEntitySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.namespaceEntityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- ID lookup for Locale entities          -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Locale entities -->
   
   <bean name="localeIdSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.localeIdCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for QName entities -->
   
   <bean name="localeIdCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="localeIdSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.localeEntityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- ID lookup for Mimetype entities       -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Mimetype entities -->
   
   <bean name="mimetypeEntitySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.mimetypeEntityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Mimetype entities -->
   
   <bean name="mimetypeEntityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="mimetypeEntitySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.mimetypeEntityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- ID lookup for Encoding entities       -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Encoding entities -->
   
   <bean name="encodingEntitySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.encodingEntityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Encoding entities -->
   
   <bean name="encodingEntityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="encodingEntitySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.encodingEntityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- =============================== -->
   <!-- Store and Node ID cache lookup  -->
   <!-- =============================== -->

   <!-- The cross-transaction shared cache for Store IDs -->
   
   <bean name="storeAndNodeIdSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.storeAndNodeIdCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Store and Node IDs -->
   
   <bean name="storeAndNodeIdCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="storeAndNodeIdSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.storeAndNodeIdTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>1000</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Parent Associations lookup for nodes  -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Parent Associations -->
   
   <bean name="parentAssocsSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.parentAssocsCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Parent Associations -->
   
   <bean name="parentAssocsCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="parentAssocsSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.parentAssocsTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>1000</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Authority container look up for users -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for User Authorities -->
   
   <bean name="userToAuthoritySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.userToAuthorityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for User Authorities -->
   
   <bean name="userToAuthorityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="userToAuthoritySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.userToAuthorityTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Node owner cache                      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Node Ownership -->
   
   <bean name="nodeOwnerSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.nodeOwnerCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Node Ownership -->
   
   <bean name="nodeOwnerCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="nodeOwnerSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.nodeOwnerTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Person username to NodeRef cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Person -->
   
   <bean name="personSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.personCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Person -->
   
   <bean name="personCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="personSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.personTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Person username to person properties (Map<QName, Serializable) cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Person properties -->
   
   <bean name="personNodesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.personNodesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Person -->
   
   <bean name="personNodesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="personNodesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.personPropertiesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>  
   
   <!-- ============================================= -->
   <!-- Classificators nodeRef to Classificator cache -->
   <!-- ============================================= -->
   
   <bean name="classificatorsSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.classificatorsCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="classificatorsCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="classificatorsSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.classificatorsCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- Parameter name to Parameter cache -->
   <!-- ============================================= -->
   
   <bean name="parametersSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.parametersCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="parametersCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="parametersSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.parametersCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- Function nodeRef to UnmodifiableFunction cache -->
   <!-- ============================================= -->
   
   <bean name="functionSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.functionCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="functionCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="functionSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.functionCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- Series nodeRef to UnmodifiableSeries cache -->
   <!-- ============================================= -->
   
   <bean name="seriesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.seriesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="seriesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="seriesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.seriesCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>  
   
   <!-- ============================================= -->
   <!-- Volume nodeRef to UnmodifiableVolume cache -->
   <!-- ============================================= -->
   
   <bean name="volumeSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.volumeCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="volumeCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="volumeSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.volumeCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>    
   
   <!-- ============================================= -->
   <!-- Case nodeRef to UnmodifiableCase cache -->
   <!-- ============================================= -->
   
   <bean name="caseSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.caseCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="caseCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="caseSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.caseCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>   
    
   <!-- ============================================= -->
   <!-- CaseFileType nodeRef to UnmodifiableDynamicType cache -->
   <!-- ============================================= -->
   
   <bean name="caseFileTypeSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.caseFileTypeCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="caseFileTypeCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="caseFileTypeSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.caseFileTypeTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean> 
   
   <!-- ============================================= -->
   <!-- DocumentType nodeRef to UnmodifiableDynamicType cache -->
   <!-- ============================================= -->
   
   <bean name="documentTypeSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.documentTypeCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="documentTypeCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="documentTypeSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.documentTypeTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>         
   
   <!-- ============================================= -->
   <!-- DocumentType nodeRef to UnmodifiableDynamicType cache -->
   <!-- ============================================= -->
   
   <bean name="dynamicTypeAndVersionSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.dynamicTypeAndVersionCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="dynamicTypeAndVersionCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="dynamicTypeAndVersionSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.dynamicTypeAndVersionTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>500</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- Authority name to Authority cache -->
   <!-- ============================================= -->
   
   <bean name="authoritySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.authorityCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="authorityCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="authoritySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.authorityCacheTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- FieldDefinition id to FieldDefinition cache -->
   <!-- ============================================= -->
   
   <bean name="fieldDefinitionSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.fieldDefinitionCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="fieldDefinitionCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="fieldDefinitionSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.fieldDefinitionTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>   

   <!-- ============================================= -->
   <!-- Authority name to Authority cache -->
   <!-- ============================================= -->
   
   <bean name="compoundWorkflowDefinitionsSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.compoundWorkflowDefinitionsCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="compoundWorkflowDefinitionsCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="compoundWorkflowDefinitionsSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.cache.compoundWorkflowDefinitionsTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- Substitute userName to List<Substitute> cache (User to list of people who are substituting this person) -->
   <!-- ============================================= -->
   
   <bean name="substituteSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.substituteCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="substituteCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="substituteSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.substituteTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>2000</value>
      </property>
   </bean>
   
   <!-- ============================================= -->
   <!-- User nodeRef to List<Substitute> (User to list of people who he/she is substituting) -->
   <!-- ============================================= -->
   
   <bean name="userToSubstitutesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.userToSubstitutesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="userToSubstitutesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="userToSubstitutesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.userToSubstitutesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>2000</value>
      </property>
   </bean>

   <!-- ===================================== -->
   <!-- Organization structure nodeRef to properties (Map<QName, Serializable) cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Organization structure properties -->
   
   <bean name="orgStructPropertiesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.orgStructPropertiesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Organization structure -->
   
   <bean name="orgStructPropertiesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="orgStructPropertiesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.orgStructPropertiesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean> 
   
   <!-- ===================================== -->
   <!-- Document type to property definitions cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for document type properties -->
   
   <bean name="propertyDefinitionSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.propertyDefinitionCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for document type properties -->
   
   <bean name="propertyDefinitionCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="propertyDefinitionSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.propertyDefinitionTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>  
   
   <!-- ===================================== -->
   <!-- Document type to child assoc type QName hierarchy cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for document type child assoc hierarchy -->
   
   <bean name="childAssocTypeQNameTreeSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.childAssocTypeQNameTreeCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for document type child assoc hierarchy -->
   
   <bean name="childAssocTypeQNameTreeCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="childAssocTypeQNameTreeSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.childAssocTypeQNameTreeTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>  
   
   <!-- ===================================== -->
   <!-- Field id to property definition cache      -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for property definitions -->
   
   <bean name="propertyDefinitionForSearchSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.propertyDefinitionForSearchCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for property definitions -->
   
   <bean name="propertyDefinitionForSearchCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="propertyDefinitionForSearchSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <!-- Eh cache area -->
      <property name="name">
         <value>org.alfresco.propertyDefinitionForSearchTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10000</value>
      </property>
   </bean>     

   <!-- ===================================== -->
   <!-- Authentication Ticket Cache           -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for In-Memory Tickets -->
   
   <bean name="ticketsSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.ticketsCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for In-Memory Tickets -->
   
   <bean name="ticketsCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="ticketsSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.ticketsTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10</value>
      </property>
   </bean>
   
   
   <!-- ===================================== -->
   <!-- SysAdmin (JMX Config) Cache           -->
   <!-- ===================================== -->
   
   <bean name="sysAdminSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.sysAdminCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <bean name="sysAdminCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="sysAdminSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.sysAdminTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>10</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- AVM Store lookup cache                -->
   <!-- ===================================== -->
   
   <!-- The cross-transaction shared cache for AVM store lookups -->
   
   <bean name="avmStoreLookupSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
       <property name="cache">
           <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean">
               <property name="cacheManager">
                   <ref bean="internalEHCacheManager"/>
               </property>
               <property name="cacheName">
                   <value>org.alfresco.repo.avm.storeLookupSharedCache</value>
               </property>
           </bean>
       </property>
   </bean>
   
   <!-- Transactional cache for AVM store lookups -->

   <bean name="avmStoreLookupCache" class="org.alfresco.repo.cache.TransactionalCache">
       <property name="sharedCache">
           <ref bean="avmStoreLookupSharedCache"/>
       </property>
       <property name="cacheManager">
           <ref bean="transactionalEHCacheManager"/>
       </property>
       <property name="name">
           <value>org.alfresco.repo.avm.storeLookupTransactionalCache</value>
       </property>
       <property name="maxCacheSize">
           <value>200</value>
       </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- WebServices Query Session Cache       -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for WebService query sessions -->
   
   <bean name="webServicesQuerySessionSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
       <property name="cache">
           <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean">
               <property name="cacheManager">
                   <ref bean="internalEHCacheManager"/>
               </property>
               <property name="cacheName">
                   <value>org.alfresco.repo.webservices.querySessionSharedCache</value>
               </property>
           </bean>
       </property>
   </bean>
   
   <!-- Transactional cache for WebService query sessions -->

   <bean name="webServicesQuerySessionCache" class="org.alfresco.repo.cache.TransactionalCache">
       <property name="sharedCache">
           <ref bean="webServicesQuerySessionSharedCache"/>
       </property>
       <property name="cacheManager">
           <ref bean="transactionalEHCacheManager"/>
       </property>
       <property name="name">
           <value>org.alfresco.repo.webservices.querySessionTransactionalCache</value>
       </property>
       <property name="maxCacheSize">
           <value>50</value>
       </property>
   </bean>
	
   <!-- ===================================== -->
   <!-- Messages Caches                       -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for In-Memory ResourceBundleBaseNames -->
   
   <bean name="resourceBundleBaseNamesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.resourceBundleBaseNamesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for In-Memory ResourceBundleBaseNames -->
   
   <bean name="resourceBundleBaseNamesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="resourceBundleBaseNamesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.resourceBundleBaseNamesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>

   <!-- The cross-transaction shared cache for In-Memory LoadedResourceBundles -->
   
   <bean name="loadedResourceBundlesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.loadedResourceBundlesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for In-Memory LoadedResourceBundles -->
   
   <bean name="loadedResourceBundlesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="loadedResourceBundlesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.loadedResourceBundlesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- The cross-transaction shared cache for In-Memory Messages -->
   
   <bean name="messagesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.messagesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for In-Memory Messages -->
   
   <bean name="messagesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="messagesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.messagesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   

   <!-- ===================================== -->
   <!-- Dictionary / Namespace Caches         -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for Dictionary Models -->
   
   <bean name="compiledModelsSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.compiledModelsCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Dictionary Models -->
   
   <bean name="compiledModelsCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="compiledModelsSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.compiledModelsTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>

   <!-- The cross-transaction shared cache for Dictionary Namespaces -->
 
   <bean name="prefixesSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.prefixesCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for Dictionary Namespaces -->
   
   <bean name="prefixesCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="prefixesSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.prefixesTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- Web Scripts Caches                    -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for In-Memory WebScripts Registry -->
   
   <bean name="webScriptsRegistrySharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.webScriptsRegistryCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for In-Memory WebScripts Registry -->
   
   <bean name="webScriptsRegistryCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="webScriptsRegistrySharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.webScriptsRegistryTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>100</value>
      </property>
   </bean>
   
   <!-- ===================================== -->
   <!-- RoutingContentStore caches            -->
   <!-- ===================================== -->

   <!-- The cross-transaction shared cache for AbstractRoutingContentStore -->
   
   <bean name="routingContentStoreSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.routingContentStoreSharedCache</value>
            </property>
         </bean>
      </property>
   </bean>
   
   <!-- The transactional cache for AbstractRoutingContentStore -->
   
   <bean name="routingContentStoreCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="routingContentStoreSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.routingContentStoreTransactionalCache</value>
      </property>
      <property name="maxCacheSize">
         <value>1000</value>
      </property>
   </bean>

   <bean name="immutableSingletonSharedCache" class="org.alfresco.repo.cache.EhCacheAdapter">
      <property name="cache">
         <bean class="org.springframework.cache.ehcache.EhCacheFactoryBean" >
            <property name="cacheManager">
               <ref bean="internalEHCacheManager" />
            </property>
            <property name="cacheName">
               <value>org.alfresco.cache.immutableSingletonSharedCache</value>
            </property>
         </bean>
      </property>
   </bean>

   <!-- The transactional cache for immutable (tenant-aware) singletons -->

   <bean name="immutableSingletonCache" class="org.alfresco.repo.cache.TransactionalCache">
      <property name="sharedCache">
         <ref bean="immutableSingletonSharedCache" />
      </property>
      <property name="cacheManager" >
         <ref bean="transactionalEHCacheManager" />
      </property>
      <property name="name">
         <value>org.alfresco.cache.immutableSingletonTransactionalCache</value>
      </property>
      <property name="maxCacheSize" value="1000" />
      <!--<property name="mutable" value="false" />-->
      <!--<property name="disableSharedCache" value="${system.cache.disableImmutableSharedCaches}" />-->
   </bean>
   
</beans>
